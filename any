public void insertCartItems(String communityId, String effectiveAccountId, Map<Id, B2BCartItemDTO> productIdToLb2bCartItemMap, String cartId) {
        List<ConnectApi.BatchInput> batchInputs = new List<ConnectApi.BatchInput>();
        for (B2BCartItemDTO lb2bcartItem : productIdToLb2bCartItemMap.values()) {
            batchInputs.add(new ConnectApi.BatchInput(this.convertToCartItemInput(lb2bcartItem)));
        }

        Id webstoreId = B2BUtil.resolveCommunityIdToWebstoreId(communityId);
        system.debug('batchInputs'+batchInputs);

        List<ConnectApi.BatchResult> batchResults = ConnectApi.CommerceCart.addItemsToCart(
                webstoreId,
                effectiveAccountId,
                cartId,
                batchInputs
        );

        system.debug('batchResults.size()'+batchResults);
        for (Integer index = 0; index < batchResults.size(); index++) {
            ConnectApi.BatchResult batchResult = batchResults.get(index);
            ConnectApi.CartItemInput cartItemInput = (ConnectApi.CartItemInput) batchInputs.get(index).getInput();
            B2BCartItemDTO lb2bCartItem = productIdToLb2bCartItemMap.values().get(index);
            lb2bCartItem.isSuccess = batchResult.isSuccess();

            if (batchResult.isSuccess()) {
                ConnectApi.CartItem cartItemOutput = (ConnectApi.CartItem) batchResult.getResult();
                lb2bCartItem.cartId = cartItemOutput.cartId;
                lb2bCartItem.cartItemId = cartItemOutput.cartItemId;
                lb2bCartItem.message = ITEM_SUCCESS;
            } else {
                lb2bCartItem.message = this.convertToMessage(batchResult.getErrorMessage());
                system.debug('lb2bCartItem.message'+lb2bCartItem.message);
            }
        }
    }
